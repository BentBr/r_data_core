# Database Connection
DATABASE_URL=postgres://postgres:postgres@pg.rdatacore.docker:5434/rdata
DATABASE_MAX_CONNECTIONS=5
DATABASE_CONNECTION_TIMEOUT=30

# Server Configuration
API_HOST=0.0.0.0
API_PORT=80
API_USE_TLS=false
API_ENABLE_DOCS=true
CORS_ORIGINS=*

# JWT Authentication
JWT_SECRET=development_secret_key
# 24 hours in seconds
JWT_EXPIRATION=86400

# Redis Cache
REDIS_URL=redis://redis.rdatacore.docker:6379
CACHE_ENABLED=true
# 5 minutes in seconds
CACHE_TTL=300
CACHE_MAX_SIZE=10000
# Infinite if 0; will be removed only when updated, deleted or cache purged
CACHE_ENTITY_DEFINITION_TTL=0
CACHE_API_KEY_TTL=600

# Logging
LOG_LEVEL=info
# RUST_LOG is kept for compatibility
RUST_LOG=info

# API Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60

# App Environment
APP_ENV=development

############# Worker env
# polls db for updated jobs in seconds
JOB_QUEUE_UPDATE_INTERVAL=30

# Database Connection
WORKER_DATABASE_URL=postgres://postgres:postgres@pg.rdatacore.docker:5434/rdata
WORKER_DATABASE_MAX_CONNECTIONS=5
WORKER_DATABASE_CONNECTION_TIMEOUT=30

# Workflow Configuration
WORKFLOW_WORKER_THREADS=4
WORKFLOW_DEFAULT_TIMEOUT=300
WORKFLOW_MAX_CONCURRENT=10
QUEUE_FETCH_KEY=queue:workflows:fetch
QUEUE_PROCESS_KEY=queue:workflows:process

############# Maintenance Worker env
# Cron expressions for maintenance tasks
# Cron expression for version purger task
VERSION_PURGER_CRON='0 */5 * * * *'
# Cron expression for refresh token cleanup task
REFRESH_TOKEN_CLEANUP_CRON='0 */5 * * * *'
# Database Connection for maintenance worker
MAINTENANCE_DATABASE_URL=postgres://postgres:postgres@pg.rdatacore.docker:5434/rdata
MAINTENANCE_DATABASE_MAX_CONNECTIONS=10
MAINTENANCE_DATABASE_CONNECTION_TIMEOUT=30

# Admin stuff
CHECK_DEFAULT_ADMIN_PASSWORD=true

# License
LICENSE_KEY=
